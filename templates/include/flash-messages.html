{% macro alert(message, category='message') %}
    <div class="alert {{ category }}">
        <span>{{ message|safe }}</span>
        <span class="close-button">&times;</span>
    </div>
{% endmacro %}

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="alerts">
        {% for category, message in messages %}
            {{ alert(message, category) }}
        {% endfor %}
        </div>
    {% endif %}
{% endwith %}
